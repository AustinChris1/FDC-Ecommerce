import{c as R,u as L,r as i,b as g,B as s,j as e,m as d,U as O,q as A,E as F,Q as v,L as q}from"./main-j8asjrF6.js";import{L as w,E as G}from"./lock-CayC8Ter.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=R("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),H=()=>{document.title="Register - First Digit";const b=L(),[f,x]=i.useState(!1),[j,k]=i.useState(!1),[n,N]=i.useState({name:"",email:"",password:"",password_confirmation:""}),[o,l]=i.useState({}),[u,_]=i.useState(!1),y=i.useRef(null);i.useEffect(()=>{const t=document.createElement("script");return t.src="https://accounts.google.com/gsi/client",t.async=!0,t.defer=!0,t.onload=()=>{window.google.accounts.id.initialize({client_id:"567469576000-d48rrpf7671lt908lmjctat7avtirh1u.apps.googleusercontent.com",callback:S,auto_select:!1}),y.current&&window.google.accounts.id.renderButton(y.current,{theme:"outline",size:"large",text:"signup_with",width:"100%"})},document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]);const S=async t=>{k(!0);try{const r=await g.post("/api/auth/google",{id_token:t.credential},{headers:{Accept:"application/json"}});r.data.status===200?(localStorage.setItem("auth_token",r.data.token),localStorage.setItem("auth_name",r.data.username),localStorage.setItem("auth_email",r.data.email),localStorage.setItem("role",r.data.role),g.defaults.headers.common.Authorization=`Bearer ${r.data.token}`,s.success(r.data.message||"Signed up with Google successfully!"),b("/")):(l(r.data.validation_errors||{}),r.data.validation_errors?Object.values(r.data.validation_errors).forEach(a=>{a.forEach(c=>s.error(c))}):s.error(r.data.message||"An error occurred during Google registration."))}catch(r){console.error("Google registration error:",r.response||r),r.response&&r.response.data&&r.response.data.message?(s.error(r.response.data.message),l({general:r.response.data.message})):(s.error("Something went wrong with Google registration. Please try again later."),l({general:"Network error or unexpected issue."}))}finally{k(!1)}},m=t=>{N({...n,[t.target.name]:t.target.value}),l({})},E=()=>{_(!u)},C=t=>{t.preventDefault(),x(!0);const r={name:n.name,email:n.email,password:n.password,password_confirmation:n.password_confirmation};g.get("/sanctum/csrf-cookie").then(()=>{g.post("/api/register",r,{headers:{Accept:"application/json"}}).then(a=>{a.data.status===200?(localStorage.setItem("auth_token",a.data.token),localStorage.setItem("auth_name",a.data.username),localStorage.setItem("auth_email",a.data.email),localStorage.setItem("role",a.data.role),g.defaults.headers.common.Authorization=`Bearer ${a.data.token}`,l({}),s.success(a.data.message),b("/email/resend")):(l(a.data.validation_errors||{}),a.data.validation_errors?Object.values(a.data.validation_errors).forEach(c=>{c.forEach(h=>s.error(h))}):s.error("An unexpected error occurred during registration."))}).catch(a=>{a.response&&a.response.status===422?(l(a.response.data.validation_errors||{}),Object.values(a.response.data.validation_errors).forEach(c=>{c.forEach(h=>s.error(h))})):a.response&&a.response.data&&a.response.data.message?(s.error(a.response.data.message),l({general:a.response.data.message})):(s.error("Something went wrong. Please try again later."),l({general:"Network error or unexpected issue."}),console.error("Error details:",a.response||a))}).finally(()=>{x(!1)})}).catch(a=>{x(!1),s.error("Failed to prepare registration. Please try again later."),l({general:"CSRF token error."}),console.error("CSRF Error:",a)})},z={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},P={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",delay:.2}}},p={hidden:{x:-20,opacity:0},visible:{x:0,opacity:1,transition:{duration:.4,ease:"easeOut"}}},I={hover:{scale:1.02,boxShadow:"0px 8px 15px rgba(0, 0, 0, 0.3)"},tap:{scale:.98}};return e.jsxs(d.div,{className:`flex items-center justify-center min-h-screen p-5 pt-24 relative overflow-hidden
                       bg-gradient-to-br from-white to-gray-100
                       dark:bg-gradient-to-br dark:from-gray-950 dark:via-gray-950 dark:to-gray-900`,variants:z,initial:"hidden",animate:"visible",children:[e.jsx("div",{className:"absolute top-[10%] right-[5%] w-72 h-72 bg-cyan-500/10 rounded-full blur-3xl opacity-30 dark:block hidden"}),e.jsx("div",{className:"absolute bottom-[15%] left-[10%] w-80 h-80 bg-purple-500/10 rounded-full blur-3xl opacity-30 dark:block hidden"}),e.jsx("div",{className:"absolute top-[10%] right-[5%] w-72 h-72 bg-rose-200/50 rounded-full blur-3xl opacity-50 dark:hidden block"}),e.jsx("div",{className:"absolute bottom-[15%] left-[10%] w-80 h-80 bg-sky-200/50 rounded-full blur-3xl opacity-50 dark:hidden block"}),e.jsxs(d.div,{className:`mt-20 p-8 md:p-10 rounded-xl shadow-2xl w-full max-w-md relative z-10
                           bg-white border border-gray-200
                           dark:bg-gray-900 dark:border-gray-700 dark:shadow-2xl`,variants:P,initial:"hidden",animate:"visible",children:[e.jsx("h1",{className:`text-4xl font-extrabold text-center mb-6 drop-shadow-md
                           text-indigo-600 dark:text-lime-400`,children:"Join Us Today!"}),e.jsx("p",{className:`text-center mb-8 text-lg
                          text-gray-600 dark:text-gray-400`,children:"Create your account to unlock exclusive features."}),e.jsxs("form",{onSubmit:C,className:"flex flex-col space-y-6",children:[e.jsxs(d.div,{className:"relative",variants:p,children:[e.jsx(O,{className:`absolute left-4 top-1/2 -translate-y-1/2
                                       text-gray-400 dark:text-gray-500`,size:20}),e.jsx("input",{type:"text",name:"name",placeholder:"Full Name","aria-label":"Full Name",onChange:m,value:n.name,className:`pl-12 pr-4 py-3 rounded-lg w-full focus:outline-none focus:ring-2 transition-colors
                                       bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500
                                       dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:ring-blue-600`,required:!0}),o.name&&e.jsx("small",{className:"text-red-600 dark:text-red-400 mt-1 block",children:o.name[0]})]}),e.jsxs(d.div,{className:"relative",variants:p,children:[e.jsx(A,{className:`absolute left-4 top-1/2 -translate-y-1/2
                                       text-gray-400 dark:text-gray-500`,size:20}),e.jsx("input",{type:"email",name:"email",placeholder:"Your Email","aria-label":"Email",onChange:m,value:n.email,className:`pl-12 pr-4 py-3 rounded-lg w-full focus:outline-none focus:ring-2 transition-colors
                                       bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500
                                       dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:ring-blue-600`,required:!0}),o.email&&e.jsx("small",{className:"text-red-600 dark:text-red-400 mt-1 block",children:o.email[0]})]}),e.jsxs(d.div,{className:"relative",variants:p,children:[e.jsx(w,{className:`absolute left-4 top-1/2 -translate-y-1/2
                                      text-gray-400 dark:text-gray-500`,size:20}),e.jsx("input",{type:u?"text":"password",name:"password",placeholder:"Password","aria-label":"Password",onChange:m,value:n.password,className:`pl-12 pr-12 py-3 rounded-lg w-full focus:outline-none focus:ring-2 transition-colors
                                       bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500
                                       dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:ring-blue-600`,required:!0}),e.jsx("button",{type:"button",onClick:E,className:`absolute right-4 top-1/2 -translate-y-1/2 transition-colors focus:outline-none
                                       text-gray-500 hover:text-gray-700 dark:text-gray-500 dark:hover:text-gray-400`,"aria-label":u?"Hide password":"Show password",children:u?e.jsx(G,{size:20}):e.jsx(F,{size:20})}),o.password&&e.jsx("small",{className:"text-red-600 dark:text-red-400 mt-1 block",children:o.password[0]})]}),e.jsxs(d.div,{className:"relative",variants:p,children:[e.jsx(w,{className:`absolute left-4 top-1/2 -translate-y-1/2
                                      text-gray-400 dark:text-gray-500`,size:20}),e.jsx("input",{type:"password",name:"password_confirmation",placeholder:"Confirm Password","aria-label":"Confirm Password",onChange:m,value:n.password_confirmation,className:`pl-12 pr-4 py-3 rounded-lg w-full focus:outline-none focus:ring-2 transition-colors
                                       bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500
                                       dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:ring-blue-600`,required:!0}),o.password_confirmation&&e.jsx("small",{className:"text-red-600 dark:text-red-400 mt-1 block",children:o.password_confirmation[0]})]}),o.general&&e.jsx("small",{className:"text-red-600 dark:text-red-400 text-center mt-2 block",children:o.general}),e.jsx(d.button,{type:"submit",className:`flex items-center justify-center font-bold py-3 rounded-lg w-full focus:outline-none focus:ring-2 active:scale-98 shadow-lg
                                   bg-teal-600 text-white hover:bg-teal-700 focus:ring-teal-500
                                   dark:bg-blue-600 dark:text-white dark:hover:bg-blue-700 dark:focus:ring-blue-500`,disabled:f,variants:I,whileHover:"hover",whileTap:"tap",children:f?e.jsx(v,{}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"mr-2",size:20})," Register"]})})]}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("div",{className:`flex-grow border-t
                                    border-gray-300 dark:border-gray-700`}),e.jsx("span",{className:`mx-4
                                    text-gray-500 dark:text-gray-500`,children:"OR"}),e.jsx("div",{className:`flex-grow border-t
                                    border-gray-300 dark:border-gray-700`})]}),e.jsx("div",{className:"flex justify-center",children:j?e.jsx(v,{}):e.jsx("div",{ref:y,className:"w-full"})}),e.jsxs("p",{className:`text-center mt-6
                             text-gray-600 dark:text-gray-400`,children:["Already have an account?"," ",e.jsx(q,{to:"/login",className:`font-semibold
                                                   text-indigo-600 hover:underline
                                                   dark:text-blue-400 dark:hover:underline`,children:"Login here"})]})]})]})};export{H as default};
