import{r as o,b as r,B as i,j as t,N as s}from"./main--wlwxwR1.js";import{L as d}from"./LoadingSpinner-Caxf3Ij3.js";const x=({children:c})=>{const[f,n]=o.useState(!1),[p,u]=o.useState(!0);return o.useEffect(()=>{r.get("/api/check-auth").then(e=>{e.status===200?n(!0):n(!1),u(!1)}).catch(e=>{console.log(e),n(!1),u(!1)})},[]),r.interceptors.response.use(void 0,function(a){return a.response.status===401?(i.warning("Unauthorized",a.response.data.message),t.jsx(s,{to:"/login"})):Promise.reject(a)}),r.interceptors.response.use(function(e){return e},function(e){return e.response.status===403?(i.error("Unauthorized",e.response.data.message),t.jsx(s,{to:"/403"})):e.response.status===404?(i.warning("Not Found","Page not found","warning"),t.jsx(s,{to:"/404"})):Promise.reject(e)}),p?t.jsx(d,{}):f?c:t.jsx(s,{to:"/login"})};export{x as default};
