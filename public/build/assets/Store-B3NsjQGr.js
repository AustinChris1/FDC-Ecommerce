import{c as _,u as $,r as s,b,B as c,j as e,Y as H,A as W,m as i,X as M,C as v,L as T,Q as w,v as V}from"./main-COYDbKvt.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=_("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),q=[4,8,12,16,20],B=[{value:"alphaAsc",label:"Alphabetically, A-Z"},{value:"alphaDesc",label:"Alphabetically, Z-A"},{value:"featured",label:"Featured"},{value:"Popular",label:"Popular"},{value:"priceAsc",label:"Price, low to high"},{value:"priceDesc",label:"Price, high to low"},{value:"dateAsc",label:"Date, old to new"},{value:"dateDesc",label:"Date, new to old"}],X=()=>{const j=$(),[g,N]=s.useState("All"),[l,P]=s.useState([0,5e4]),[n,r]=s.useState(1),[u,S]=s.useState(8),[h,k]=s.useState("alphaAsc"),[C,A]=s.useState([]),[y,d]=s.useState([]),[F,o]=s.useState(!0),[m,x]=s.useState(1),[f,p]=s.useState(!1);s.useEffect(()=>{let a=!0;return document.title="Shop | First Digits",b.get("/api/getCategory").then(t=>{a&&(t.data.status===200?A([{name:"All",link:"all"},...t.data.category]):c.error("Failed to fetch categories."))}).catch(t=>{console.error("Error fetching categories:",t),c.error("Network error fetching categories.")}),(()=>{o(!0),b.get("/api/getProducts",{params:{category:g,min_price:l[0],max_price:l[1],sort:h,itemsPerPage:u,page:n}}).then(t=>{a&&(t.data.status===200?(d(t.data.products.data),x(t.data.products.last_page),o(!1)):t.data.status===404?(d([]),x(1),o(!1),c.info(t.data.message||"No products found for this selection.")):(d([]),x(1),o(!1),c.error(t.data.message||"An error occurred while fetching products.")))}).catch(t=>{console.error("Error fetching products:",t),d([]),x(1),o(!1),c.error("Failed to fetch products. Please try again.")})})(),()=>{a=!1}},[j,g,l,h,u,n]);const O=a=>{N(a.name),r(1),p(!1)},D=a=>{P([0,parseInt(a.target.value)]),r(1)},I=a=>{k(a.target.value),r(1)},L=a=>{S(parseInt(a.target.value)),r(1)},z={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},hover:{scale:1.03,boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.4)",transition:{duration:.2}}},E={hover:{scale:1.05,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.3)"},tap:{scale:.95}};return F?e.jsx(H,{}):e.jsxs("div",{className:"min-h-screen bg-gray-950 text-gray-200 pt-24 px-4 sm:px-6 lg:px-8 flex flex-col lg:flex-row gap-8",children:[e.jsxs("button",{className:"lg:hidden fixed bottom-6 right-6 z-40 bg-gradient-to-r from-blue-600 to-indigo-700 text-white p-4 rounded-full shadow-lg flex items-center justify-center space-x-2 transition-all hover:scale-105",onClick:()=>p(!0),"aria-label":"Open Filters",children:[e.jsx(Z,{className:"w-6 h-6"}),e.jsx("span",{children:"Filters"})]}),e.jsx(W,{children:(f||window.innerWidth>=1024)&&e.jsxs(i.div,{initial:window.innerWidth<1024?{x:"-100%"}:{},animate:window.innerWidth<1024?{x:0}:{},exit:window.innerWidth<1024?{x:"-100%"}:{},transition:{duration:.3,ease:"easeInOut"},className:`fixed lg:static top-0 left-0 h-full w-72 lg:w-1/4 bg-gray-900 z-50 lg:z-auto p-6 shadow-xl lg:shadow-none flex flex-col ${f?"flex":"hidden lg:flex"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 lg:hidden",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-100",children:"Filters"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-gray-700","aria-label":"Close Filters",children:e.jsx(M,{className:"w-7 h-7"})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-cyan-400",children:"Categories"}),e.jsx("ul",{className:"space-y-3 text-lg",children:C.map(a=>e.jsx(i.li,{className:`cursor-pointer px-4 py-2 rounded-lg transition-all duration-200
                                            ${g===a.name?"bg-blue-700 text-white font-semibold shadow-md":"text-gray-300 hover:bg-gray-800 hover:text-lime-400"}`,onClick:()=>O(a),whileTap:{scale:.98},children:a.name},a.name))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-cyan-400",children:"Price Range"}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxs("span",{className:"text-gray-300",children:["₦",l[0]]}),e.jsx("input",{type:"range",min:"0",max:"50000",value:l[1],onChange:D,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-600"}),e.jsxs("span",{className:"text-gray-300",children:["₦",l[1]]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Filter up to ₦",l[1],"."]})]})]})}),e.jsxs("div",{className:"flex-1 lg:ml-8",children:[" ",e.jsx("h2",{className:"text-4xl font-extrabold text-center lg:text-left mb-8 text-white bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"Our Products"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto",children:[e.jsx("label",{htmlFor:"sort",className:"text-lg font-medium text-gray-300",children:"Sort by:"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("select",{id:"sort",value:h,onChange:I,className:"block w-full px-4 py-2 pr-10 text-gray-200 bg-gray-800 border border-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 appearance-none transition-colors duration-200 cursor-pointer",children:B.map(a=>e.jsx("option",{value:a.value,className:"bg-gray-800 text-gray-200",children:a.label},a.value))}),e.jsx(v,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto",children:[e.jsx("label",{htmlFor:"itemsPerPage",className:"text-lg font-medium text-gray-300",children:"Show:"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("select",{id:"itemsPerPage",value:u,onChange:L,className:"block w-full px-4 py-2 pr-10 text-gray-200 bg-gray-800 border border-gray-700 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 appearance-none transition-colors duration-200 cursor-pointer",children:q.map(a=>e.jsx("option",{value:a,className:"bg-gray-800 text-gray-200",children:a},a))}),e.jsx(v,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"})]})]})]}),e.jsx(i.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:y.length>0?y.map((a,R)=>{var t;return e.jsx(i.div,{variants:z,initial:"hidden",animate:"visible",whileHover:"hover",viewport:{once:!0,amount:.2},className:"relative bg-gray-800 rounded-xl shadow-lg flex flex-col p-5 overflow-hidden border border-gray-700 group cursor-pointer",children:e.jsxs(T,{to:`/collections/${((t=a.category)==null?void 0:t.link)||"default-category"}/${a.link}`,className:"block h-full",children:[e.jsx("img",{src:`/${a.image}`,alt:a.name,className:"w-full h-48 object-contain rounded-md mb-4 transform group-hover:scale-105 transition-transform duration-300 ease-in-out"}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-100 mb-2 truncate group-hover:text-cyan-400 transition-colors duration-200",children:a.name}),a.selling_price&&e.jsxs("p",{className:"text-lime-400 text-xl font-semibold mb-4",children:["₦",a.selling_price.toLocaleString()]})]}),e.jsxs(i.button,{className:"mt-auto w-full bg-blue-600 text-white py-3 rounded-lg font-semibold flex items-center justify-center space-x-2 opacity-90 hover:opacity-100 transition-all duration-300",variants:E,whileHover:"hover",whileTap:"tap",children:[e.jsx("span",{children:"View Details"}),e.jsx(w,{className:"w-5 h-5"})]})]})},a.id)}):e.jsx(i.p,{initial:{opacity:0},animate:{opacity:1},className:"col-span-full text-center text-gray-500 text-xl py-10",children:"No products found matching your criteria."})}),e.jsxs("div",{className:"mt-12 flex justify-center items-center space-x-4",children:[e.jsxs("button",{className:"px-5 py-2 bg-gray-800 text-gray-300 rounded-lg shadow-md hover:bg-gray-700 transition-all duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>r(a=>Math.max(a-1,1)),disabled:n===1,children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:"Previous"})]}),e.jsxs("span",{className:"text-lg font-medium text-gray-300",children:["Page ",n," of ",m]}),e.jsxs("button",{className:"px-5 py-2 bg-gray-800 text-gray-300 rounded-lg shadow-md hover:bg-gray-700 transition-all duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>r(a=>Math.min(a+1,m)),disabled:n===m,children:[e.jsx("span",{children:"Next"}),e.jsx(w,{className:"w-5 h-5"})]})]})]})]})};export{X as default};
