import{c as _,u as $,r,b as f,B as d,j as e,a4 as H,A as W,m as n,X as M,C as v,L as T,a0 as k,z as V}from"./main-j8asjrF6.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=_("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),q=[4,8,12,16,20],B=[{value:"alphaAsc",label:"Alphabetically, A-Z"},{value:"alphaDesc",label:"Alphabetically, Z-A"},{value:"featured",label:"Featured"},{value:"Popular",label:"Popular"},{value:"priceAsc",label:"Price, low to high"},{value:"priceDesc",label:"Price, high to low"},{value:"dateAsc",label:"Date, old to new"},{value:"dateDesc",label:"Date, new to old"}],G=()=>{const w=$(),[x,j]=r.useState("All"),[s,N]=r.useState([0,5e4]),[i,l]=r.useState(1),[u,P]=r.useState(8),[h,S]=r.useState("alphaAsc"),[C,A]=r.useState([]),[p,c]=r.useState([]),[F,o]=r.useState(!0),[m,g]=r.useState(1),[b,y]=r.useState(!1);r.useEffect(()=>{let a=!0;return document.title="Shop | First Digits",f.get("/api/getCategory").then(t=>{a&&(t.data.status===200?A([{name:"All",link:"all"},...t.data.category]):d.error("Failed to fetch categories."))}).catch(t=>{console.error("Error fetching categories:",t),d.error("Network error fetching categories.")}),(()=>{o(!0),f.get("/api/getProducts",{params:{category:x,min_price:s[0],max_price:s[1],sort:h,itemsPerPage:u,page:i}}).then(t=>{a&&(t.data.status===200?(c(t.data.products.data),g(t.data.products.last_page),o(!1)):t.data.status===404?(c([]),g(1),o(!1),d.info(t.data.message||"No products found for this selection.")):(c([]),g(1),o(!1),d.error(t.data.message||"An error occurred while fetching products.")))}).catch(t=>{console.error("Error fetching products:",t),c([]),g(1),o(!1),d.error("Failed to fetch products. Please try again.")})})(),()=>{a=!1}},[w,x,s,h,u,i]);const O=a=>{j(a.name),l(1),y(!1)},D=a=>{N([0,parseInt(a.target.value)]),l(1)},I=a=>{S(a.target.value),l(1)},L=a=>{P(parseInt(a.target.value)),l(1)},z={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},hover:{scale:1.03,boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.2)",transition:{duration:.2}}},E={hover:{scale:1.05,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.2)"},tap:{scale:.95}};return F?e.jsx(H,{}):e.jsxs("div",{className:`min-h-screen bg-gray-50 text-gray-800 pt-28 px-4 sm:px-6 lg:px-8 flex flex-col lg:flex-row gap-8
                    dark:bg-gray-950 dark:text-gray-200`,children:[e.jsxs("button",{className:`lg:hidden fixed bottom-6 right-6 z-40
                           bg-gradient-to-r from-blue-500 to-purple-600 text-white
                           dark:from-blue-600 dark:to-indigo-700 p-4 rounded-full shadow-lg flex items-center justify-center space-x-2 transition-all hover:scale-105`,onClick:()=>y(!0),"aria-label":"Open Filters",children:[e.jsx(Z,{className:"w-6 h-6"}),e.jsx("span",{children:"Filters"})]}),e.jsx(W,{children:(b||window.innerWidth>=1024)&&e.jsxs(n.div,{initial:window.innerWidth<1024?{x:"-100%"}:{},animate:window.innerWidth<1024?{x:0}:{},exit:window.innerWidth<1024?{x:"-100%"}:{},transition:{duration:.3,ease:"easeInOut"},className:`fixed lg:static top-0 left-0 h-full w-72 lg:w-1/4
                                    bg-gray-100 dark:bg-gray-900 z-50 lg:z-auto p-6
                                    shadow-xl lg:shadow-none flex flex-col ${b?"flex":"hidden lg:flex"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 lg:hidden",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100",children:"Filters"}),e.jsx("button",{onClick:()=>y(!1),className:`text-gray-600 hover:text-gray-900 transition-colors p-2 rounded-full hover:bg-gray-200
                                           dark:text-gray-400 dark:hover:text-white dark:hover:bg-gray-700`,"aria-label":"Close Filters",children:e.jsx(M,{className:"w-7 h-7"})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-600 dark:text-cyan-400",children:"Categories"}),e.jsx("ul",{className:"space-y-3 text-lg",children:C.map(a=>e.jsx(n.li,{className:`cursor-pointer px-4 py-2 rounded-lg transition-all duration-200
                                                    ${x===a.name?"bg-blue-600 text-white font-semibold shadow-md dark:bg-blue-700":"text-gray-700 hover:bg-gray-200 hover:text-blue-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-lime-400"}`,onClick:()=>O(a),whileTap:{scale:.98},children:a.name},a.name))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-600 dark:text-cyan-400",children:"Price Range"}),e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["₦",s[0]]}),e.jsx("input",{type:"range",min:"0",max:"50000",value:s[1],onChange:D,className:`w-full h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer accent-blue-600
                                               dark:bg-gray-700`}),e.jsxs("span",{className:"text-gray-700 dark:text-gray-300",children:["₦",s[1]]})]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Filter up to ₦",s[1],"."]})]})]})}),e.jsxs("div",{className:"flex-1 lg:ml-8",children:[" ",e.jsx("h2",{className:`text-4xl font-extrabold text-center lg:text-left mb-8
                               text-gray-800 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-700
                               dark:text-white dark:from-blue-400 dark:to-purple-600`,children:"Our Products"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto",children:[e.jsx("label",{htmlFor:"sort",className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Sort by:"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("select",{id:"sort",value:h,onChange:I,className:`block w-full px-4 py-2 pr-10
                                           text-gray-700 bg-gray-100 border border-gray-300 rounded-lg shadow-sm
                                           focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none transition-colors duration-200 cursor-pointer
                                           dark:text-gray-200 dark:bg-gray-800 dark:border-gray-700 dark:focus:ring-blue-600`,children:B.map(a=>e.jsx("option",{value:a.value,className:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-200",children:a.label},a.value))}),e.jsx(v,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 pointer-events-none"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 w-full sm:w-auto",children:[e.jsx("label",{htmlFor:"itemsPerPage",className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:"Show:"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("select",{id:"itemsPerPage",value:u,onChange:L,className:`block w-full px-4 py-2 pr-10
                                           text-gray-700 bg-gray-100 border border-gray-300 rounded-lg shadow-sm
                                           focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none transition-colors duration-200 cursor-pointer
                                           dark:text-gray-200 dark:bg-gray-800 dark:border-gray-700 dark:focus:ring-blue-600`,children:q.map(a=>e.jsx("option",{value:a,className:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-200",children:a},a))}),e.jsx(v,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 pointer-events-none"})]})]})]}),e.jsx(n.div,{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-8",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:p.length>0?p.map((a,R)=>{var t;return e.jsx(n.div,{variants:z,initial:"hidden",animate:"visible",whileHover:"hover",viewport:{once:!0,amount:.2},className:`relative
                                           bg-white rounded-xl shadow-lg flex flex-col p-2 overflow-hidden border border-gray-200 group cursor-pointer
                                           dark:bg-gray-800 dark:shadow-lg dark:border-gray-700`,children:e.jsxs(T,{to:`/collections/${((t=a.category)==null?void 0:t.link)||"default-category"}/${a.link}`,className:"block h-full",children:[e.jsx("img",{src:`/${a.image}`,alt:a.name,className:"w-full h-48 object-contain rounded-md mb-2 transform group-hover:scale-105 transition-transform duration-300 ease-in-out"}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h3",{className:`text-xl font-bold mb-2 truncate
                                                       text-gray-800 group-hover:text-blue-600 transition-colors duration-200
                                                       dark:text-gray-100 dark:group-hover:text-cyan-400`,children:a.name}),a.selling_price&&e.jsxs("p",{className:`text-xl font-semibold mb-4
                                                          text-green-600 dark:text-lime-400`,children:["₦",a.selling_price.toLocaleString()]})]}),e.jsxs(n.button,{className:`mt-auto w-full py-3 rounded-lg font-semibold flex items-center justify-center space-x-2 opacity-90 hover:opacity-100 transition-all duration-300
                                                   bg-blue-600 text-white
                                                   dark:bg-blue-600 dark:text-white`,variants:E,whileHover:"hover",whileTap:"tap",children:[e.jsx("span",{children:"View Details"}),e.jsx(k,{className:"w-5 h-5"})]})]})},a.id)}):e.jsx(n.p,{initial:{opacity:0},animate:{opacity:1},className:"col-span-full text-center text-gray-500 text-xl py-10",children:"No products found matching your criteria."})}),e.jsxs("div",{className:"mt-12 flex justify-center items-center space-x-4",children:[e.jsxs("button",{className:`px-5 py-2 rounded-lg shadow-md transition-all duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed
                                   bg-gray-200 text-gray-700 hover:bg-gray-300
                                   dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700`,onClick:()=>l(a=>Math.max(a-1,1)),disabled:i===1,children:[e.jsx(V,{className:"w-5 h-5"}),e.jsx("span",{children:"Previous"})]}),e.jsxs("span",{className:"text-lg font-medium text-gray-700 dark:text-gray-300",children:["Page ",i," of ",m]}),e.jsxs("button",{className:`px-5 py-2 rounded-lg shadow-md transition-all duration-200 flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed
                                   bg-gray-200 text-gray-700 hover:bg-gray-300
                                   dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700`,onClick:()=>l(a=>Math.min(a+1,m)),disabled:i===m,children:[e.jsx("span",{children:"Next"}),e.jsx(k,{className:"w-5 h-5"})]})]})]})]})};export{G as default};
