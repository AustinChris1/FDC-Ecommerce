import{c as R,u as L,r as d,b as m,B as o,j as e,m as i,U as O,t as A,v as F,y as v,E as q,a2 as w,L as G}from"./main-9L8j6t2k.js";import{E as B}from"./eye-off-C1tixBmb.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=R("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),D=()=>{document.title="Register - First Digit";const b=L(),[f,x]=d.useState(!1),[j,k]=d.useState(!1),[l,N]=d.useState({name:"",email:"",phone:"",password:"",password_confirmation:""}),[s,n]=d.useState({}),[p,_]=d.useState(!1),h=d.useRef(null);d.useEffect(()=>{const t=document.createElement("script");return t.src="https://accounts.google.com/gsi/client",t.async=!0,t.defer=!0,t.onload=()=>{window.google.accounts.id.initialize({client_id:"567469576000-d48rrpf7671lt908lmjctat7avtirh1u.apps.googleusercontent.com",callback:S,auto_select:!1}),h.current&&window.google.accounts.id.renderButton(h.current,{theme:"outline",size:"large",text:"signup_with",width:"100%"})},document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]);const S=async t=>{k(!0);try{const r=await m.post("/api/auth/google",{id_token:t.credential},{headers:{Accept:"application/json"}});r.data.status===200?(localStorage.setItem("auth_token",r.data.token),localStorage.setItem("auth_name",r.data.username),localStorage.setItem("auth_email",r.data.email),localStorage.setItem("auth_phone",r.data.phone),localStorage.setItem("role",r.data.role),m.defaults.headers.common.Authorization=`Bearer ${r.data.token}`,o.success(r.data.message||"Signed up with Google successfully!"),b("/")):(n(r.data.validation_errors||{}),r.data.validation_errors?Object.values(r.data.validation_errors).forEach(a=>{a.forEach(u=>o.error(u))}):o.error(r.data.message||"An error occurred during Google registration."))}catch(r){console.error("Google registration error:",r.response||r),r.response&&r.response.data&&r.response.data.message?(o.error(r.response.data.message),n({general:r.response.data.message})):(o.error("Something went wrong with Google registration. Please try again later."),n({general:"Network error or unexpected issue."}))}finally{k(!1)}},c=t=>{N({...l,[t.target.name]:t.target.value}),n({})},E=()=>{_(!p)},P=t=>{t.preventDefault(),x(!0);const r={name:l.name,email:l.email,phone:l.phone,password:l.password,password_confirmation:l.password_confirmation};m.get("/sanctum/csrf-cookie").then(()=>{m.post("/api/register",r,{headers:{Accept:"application/json"}}).then(a=>{a.data.status===200?(localStorage.setItem("auth_token",a.data.token),localStorage.setItem("auth_name",a.data.username),localStorage.setItem("auth_email",a.data.email),localStorage.setItem("auth_phone",a.data.phone),localStorage.setItem("role",a.data.role),m.defaults.headers.common.Authorization=`Bearer ${a.data.token}`,n({}),o.success(a.data.message),b("/email/resend")):(n(a.data.validation_errors||{}),a.data.validation_errors?Object.values(a.data.validation_errors).forEach(u=>{u.forEach(y=>o.error(y))}):o.error("An unexpected error occurred during registration."))}).catch(a=>{a.response&&a.response.status===422?(n(a.response.data.validation_errors||{}),Object.values(a.response.data.validation_errors).forEach(u=>{u.forEach(y=>o.error(y))})):a.response&&a.response.data&&a.response.data.message?(o.error(a.response.data.message),n({general:a.response.data.message})):(o.error("Something went wrong. Please try again later."),n({general:"Network error or unexpected issue."}),console.error("Error details:",a.response||a))}).finally(()=>{x(!1)})}).catch(a=>{x(!1),o.error("Failed to prepare registration. Please try again later."),n({general:"CSRF token error."}),console.error("CSRF Error:",a)})},C={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},z={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",delay:.2}}},g={hidden:{x:-20,opacity:0},visible:{x:0,opacity:1,transition:{duration:.4,ease:"easeOut"}}},I={hover:{scale:1.02,boxShadow:"0px 8px 15px rgba(0, 0, 0, 0.3)"},tap:{scale:.98}};return e.jsxs(i.div,{className:`flex items-center justify-center min-h-screen p-5 pt-24 relative overflow-hidden
                         bg-gradient-to-br from-white to-gray-100
                         dark:bg-gradient-to-br dark:from-gray-950 dark:via-gray-950 dark:to-gray-900`,variants:C,initial:"hidden",animate:"visible",children:[e.jsx("div",{className:"absolute top-[10%] right-[5%] w-72 h-72 bg-cyan-500/10 rounded-full blur-3xl opacity-30 dark:block hidden"}),e.jsx("div",{className:"absolute bottom-[15%] left-[10%] w-80 h-80 bg-purple-500/10 rounded-full blur-3xl opacity-30 dark:block hidden"}),e.jsx("div",{className:"absolute top-[10%] right-[5%] w-72 h-72 bg-rose-200/50 rounded-full blur-3xl opacity-50 dark:hidden block"}),e.jsx("div",{className:"absolute bottom-[15%] left-[10%] w-80 h-80 bg-sky-200/50 rounded-full blur-3xl opacity-50 dark:hidden block"}),e.jsxs(i.div,{className:`mt-20 p-8 md:p-10 rounded-xl shadow-2xl w-full max-w-md relative z-10
                         bg-white border border-gray-200
                         dark:bg-gray-900 dark:border-gray-700 dark:shadow-2xl`,variants:z,initial:"hidden",animate:"visible",children:[e.jsx("h1",{className:`text-4xl font-extrabold text-center mb-6 drop-shadow-md
                             text-indigo-600 dark:text-lime-400`,children:"Join Us Today!"}),e.jsx("p",{className:`text-center mb-8 text-lg
                           text-gray-600 dark:text-gray-400`,children:"Create your account to unlock exclusive features."}),e.jsxs("form",{onSubmit:P,className:"flex flex-col space-y-6",children:[e.jsxs(i.div,{className:"relative",variants:g,children:[e.jsx(O,{className:`absolute left-4 top-1/2 -translate-y-1/2
                                         text-gray-400 dark:text-gray-500`,size:20}),e.jsx("input",{type:"text",name:"name",placeholder:"Full Name","aria-label":"Full Name",onChange:c,value:l.name,className:`pl-12 pr-4 py-3 rounded-lg w-full focus:outline-none focus:ring-2 transition-colors
                                         bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500
                                         dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:ring-blue-600`,required:!0}),s.name&&e.jsx("small",{className:"text-red-600 dark:text-red-400 mt-1 block",children:s.name[0]})]}),e.jsxs(i.div,{className:"relative",variants:g,children:[e.jsx(A,{className:`absolute left-4 top-1/2 -translate-y-1/2
                                         text-gray-400 dark:text-gray-500`,size:20}),e.jsx("input",{type:"email",name:"email",placeholder:"Your Email","aria-label":"Email",onChange:c,value:l.email,className:`pl-12 pr-4 py-3 rounded-lg w-full focus:outline-none focus:ring-2 transition-colors
                                         bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500
                                         dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:ring-blue-600`,required:!0}),s.email&&e.jsx("small",{className:"text-red-600 dark:text-red-400 mt-1 block",children:s.email[0]})]}),e.jsxs(i.div,{className:"relative",variants:g,children:[e.jsx(F,{className:`absolute left-4 top-1/2 -translate-y-1/2
                                         text-gray-400 dark:text-gray-500`,size:20}),e.jsx("input",{type:"tel",name:"phone",placeholder:"Phone Number","aria-label":"Phone Number",onChange:c,value:l.phone,className:`pl-12 pr-4 py-3 rounded-lg w-full focus:outline-none focus:ring-2 transition-colors
                                         bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500
                                         dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:ring-blue-600`,required:!0}),s.phone&&e.jsx("small",{className:"text-red-600 dark:text-red-400 mt-1 block",children:s.phone[0]})]}),e.jsxs(i.div,{className:"relative",variants:g,children:[e.jsx(v,{className:`absolute left-4 top-1/2 -translate-y-1/2
                                         text-gray-400 dark:text-gray-500`,size:20}),e.jsx("input",{type:p?"text":"password",name:"password",placeholder:"Password","aria-label":"Password",onChange:c,value:l.password,className:`pl-12 pr-12 py-3 rounded-lg w-full focus:outline-none focus:ring-2 transition-colors
                                         bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500
                                         dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:ring-blue-600`,required:!0}),e.jsx("button",{type:"button",onClick:E,className:`absolute right-4 top-1/2 -translate-y-1/2 transition-colors focus:outline-none
                                         text-gray-500 hover:text-gray-700 dark:text-gray-500 dark:hover:text-gray-400`,"aria-label":p?"Hide password":"Show password",children:p?e.jsx(B,{size:20}):e.jsx(q,{size:20})}),s.password&&e.jsx("small",{className:"text-red-600 dark:text-red-400 mt-1 block",children:s.password[0]})]}),e.jsxs(i.div,{className:"relative",variants:g,children:[e.jsx(v,{className:`absolute left-4 top-1/2 -translate-y-1/2
                                         text-gray-400 dark:text-gray-500`,size:20}),e.jsx("input",{type:"password",name:"password_confirmation",placeholder:"Confirm Password","aria-label":"Confirm Password",onChange:c,value:l.password_confirmation,className:`pl-12 pr-4 py-3 rounded-lg w-full focus:outline-none focus:ring-2 transition-colors
                                         bg-gray-50 border border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500
                                         dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200 dark:placeholder-gray-500 dark:focus:ring-blue-600`,required:!0}),s.password_confirmation&&e.jsx("small",{className:"text-red-600 dark:text-red-400 mt-1 block",children:s.password_confirmation[0]})]}),s.general&&e.jsx("small",{className:"text-red-600 dark:text-red-400 text-center mt-2 block",children:s.general}),e.jsx(i.button,{type:"submit",className:`flex items-center justify-center font-bold py-3 rounded-lg w-full focus:outline-none focus:ring-2 active:scale-98 shadow-lg
                                         bg-teal-600 text-white hover:bg-teal-700 focus:ring-teal-500
                                         dark:bg-blue-600 dark:text-white dark:hover:bg-blue-700 dark:focus:ring-blue-500`,disabled:f,variants:I,whileHover:"hover",whileTap:"tap",children:f?e.jsx(w,{}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"mr-2",size:20})," Register"]})})]}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("div",{className:`flex-grow border-t
                                     border-gray-300 dark:border-gray-700`}),e.jsx("span",{className:`mx-4
                                     text-gray-500 dark:text-gray-500`,children:"OR"}),e.jsx("div",{className:`flex-grow border-t
                                     border-gray-300 dark:border-gray-700`})]}),e.jsx("div",{className:"flex justify-center",children:j?e.jsx(w,{}):e.jsx("div",{ref:h,className:"w-full"})}),e.jsxs("p",{className:`text-center mt-6
                                     text-gray-600 dark:text-gray-400`,children:["Already have an account?"," ",e.jsx(G,{to:"/login",className:`font-semibold
                                                 text-indigo-600 hover:underline
                                                 dark:text-blue-400 dark:hover:underline`,children:"Login here"})]})]})]})};export{D as default};
