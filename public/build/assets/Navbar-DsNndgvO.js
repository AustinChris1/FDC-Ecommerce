import{c as I,r as s,j as e,m as u,C as X,A as v,L as i,W as Y,u as Z,a as G,a5 as J,U as _,S as D,a2 as T,e as A,X as z,M as ee,b as C,B as L,F as te,$ as ae,a6 as re}from"./main-j6QQ3Y0W.js";import{C as se}from"./chevron-right-BuS5Nv3W.js";import{f as q,a as B}from"./FdcLogoBlack-zHzX5pB1.js";import{S as F}from"./shopping-bag-WWI2wRPl.js";import{L as H,K as P}from"./log-out-qv2ftXLL.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=I("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=I("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=I("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),V=({title:N,items:S,handleNavigation:d,isMobile:a=!1})=>{const[p,y]=s.useState(!1),h=s.useRef(null),x=s.useRef(null),c=s.useRef(null),g=()=>y(!p),m=s.useCallback(()=>{c.current&&clearTimeout(c.current),y(!0)},[]),f=s.useCallback(()=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{y(!1)},150)},[]);s.useEffect(()=>{const r=k=>{h.current&&!h.current.contains(k.target)&&x.current&&!x.current.contains(k.target)&&y(!1)};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]);const j={hidden:{opacity:0,y:-10,scale:.95,transition:{duration:.2,ease:"easeOut"}},visible:{opacity:1,y:0,scale:1,transition:{duration:.3,ease:"easeIn"}}},w={hidden:{opacity:0,height:0,transition:{duration:.2,ease:"easeOut"}},visible:{opacity:1,height:"auto",transition:{duration:.3,ease:"easeIn"}}};return e.jsxs("li",{className:`${a?"w-full":"relative group"}`,"aria-haspopup":"true","aria-expanded":p,onMouseEnter:a?void 0:m,onMouseLeave:a?void 0:f,children:[e.jsxs("button",{ref:x,onClick:a?g:void 0,onFocus:a?void 0:m,onBlur:a?void 0:f,className:`flex items-center justify-between w-full focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 rounded-md
                    ${a?"text-gray-800 hover:text-indigo-600 dark:text-gray-200 dark:hover:text-indigo-400 text-xl font-semibold py-3 px-2":"text-gray-700 hover:text-indigo-600 dark:text-gray-300 dark:hover:text-indigo-400 text-lg font-medium transition-colors relative py-2 px-3"}`,children:[e.jsx("span",{children:N}),a?e.jsx(u.div,{animate:{rotate:p?90:0},transition:{duration:.2},children:e.jsx(se,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}):e.jsx(u.div,{animate:{rotate:p?180:0},transition:{duration:.2},children:e.jsx(X,{className:"w-5 h-5 ml-2 text-gray-500 dark:text-gray-400"})})]}),!a&&e.jsx("span",{className:"absolute left-0 bottom-0 w-full h-[3px] bg-indigo-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left rounded-full"}),e.jsx(v,{children:p&&e.jsx(u.ul,{ref:h,variants:a?w:j,initial:"hidden",animate:"visible",exit:"hidden",onMouseEnter:a?void 0:m,onMouseLeave:a?void 0:f,className:`z-50 overflow-hidden
                            ${a?"pl-4 mt-2 space-y-2":"absolute top-full left-1/2 -translate-x-1/2 mt-4 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md rounded-xl shadow-2xl py-3 w-64 border border-gray-200 dark:border-gray-700 transition-all duration-300 ease-in-out"}`,role:"menu",children:S.map((r,k)=>e.jsx(u.li,{whileHover:{scale:1.02,x:a?0:5},transition:{type:"spring",stiffness:400,damping:20},className:`
                                    ${a?"":"hover:bg-indigo-50 dark:hover:bg-gray-700/50 rounded-lg mx-2 transition-colors duration-200"}`,role:"menuitem",children:e.jsxs(i,{to:r.link,className:`flex items-center p-3 text-gray-800 dark:text-gray-200
                                        ${a?"text-lg font-medium":"text-base font-normal"}`,onClick:()=>{d(r.link),y(!1)},children:[r.icon&&Y.createElement(r.icon,{className:"w-6 h-6 mr-3 text-gray-500 dark:text-gray-400"}),r.image&&typeof r.image=="string"&&e.jsx("img",{src:r.image,alt:r.name,className:"w-7 h-7 object-cover rounded-full mr-3 shadow-sm"}),e.jsx("span",{children:r.name})]})},k))})})]})},ue=()=>{const N=Z(),S=G(),[d,a]=s.useState(!1),[p,y]=s.useState(!1),[h,x]=s.useState(""),[c,g]=s.useState([]),[m,f]=s.useState(!1),j=s.useRef(null),w=s.useRef(null),[r,k]=s.useState(()=>localStorage.getItem("theme")==="light"?!1:localStorage.getItem("theme")==="dark"?!0:window.matchMedia("(prefers-color-scheme: dark)").matches);s.useEffect(()=>{r?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[r]);const M=()=>{k(t=>!t)},{totalCartItems:b,toggleCart:E}=J(),l=t=>{g([]),x(""),N(t)};s.useEffect(()=>{const t=()=>{y(window.scrollY>50)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),s.useEffect(()=>{d&&a(!1)},[S.pathname]);const O=async t=>{t.preventDefault();const n=S.pathname;try{await C.get("/sanctum/csrf-cookie");const o=await C.post("/api/logout");o.data.status===200?(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_name"),localStorage.removeItem("auth_email"),localStorage.removeItem("role"),L.success(o.data.message||"Logged out successfully!")):(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_name"),localStorage.removeItem("auth_email"),localStorage.removeItem("role"),L.success("User logout successful (local data cleared)."))}catch(o){console.error("Logout request failed:",o),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_name"),localStorage.removeItem("auth_email"),localStorage.removeItem("role"),L.success("Logout successful (due to network error or unhandled backend response).")}finally{N(n),a(!1)}},Q=localStorage.getItem("auth_token")?e.jsxs(e.Fragment,{children:[e.jsxs(i,{to:"/user/orders",onClick:()=>l("/user/orders"),className:"flex items-center dark:text-cyan-400 text-blue-600 dark:hover:text-cyan-300 hover:text-blue-500 transition-colors py-2 px-3 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100",title:"My Orders",children:[e.jsx(F,{className:"w-5 h-5 mr-1"}),e.jsx("span",{className:"hidden lg:inline",children:"My Orders"})]}),e.jsxs("button",{onClick:O,className:"flex items-center dark:text-red-400 text-red-600 dark:hover:text-red-500 hover:text-red-700 transition-colors py-2 px-3 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100",title:"Log Out",children:[e.jsx(H,{className:"w-5 h-5 mr-1"}),e.jsx("span",{className:"hidden lg:inline",children:"Logout"})]})]}):e.jsxs(i,{to:"/login",onClick:()=>l("/login"),className:"flex items-center dark:text-cyan-400 text-blue-600 dark:hover:text-cyan-300 hover:text-blue-500 transition-colors py-2 px-3 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100",title:"Log In",children:[e.jsx(_,{className:"w-5 h-5 mr-1"}),e.jsx("span",{className:"hidden lg:inline",children:"Login"})]}),W=localStorage.getItem("role")==="admin"&&e.jsxs(i,{to:"/admin/dashboard",onClick:()=>l("/admin/dashboard"),className:"flex items-center dark:text-purple-400 text-purple-700 dark:hover:text-purple-300 hover:text-purple-600 transition-colors py-2 px-3 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100",title:"Admin Dashboard",children:[e.jsx(P,{className:"w-5 h-5 mr-1"}),e.jsx("span",{className:"hidden lg:inline",children:"Admin"})]}),$=async t=>{const n=t.target.value;if(x(n),n.trim().length>2){f(!0);try{const o=await C.get("/api/search",{params:{query:n},headers:{Accept:"application/json"}});o.data.status===200&&o.data.products&&o.data.products.length>0?g(o.data.products):g([])}catch(o){console.error("Search error:",o),g([])}finally{f(!1)}}else g([])};s.useEffect(()=>{const t=n=>{j.current&&!j.current.contains(n.target)&&(g([]),x(""))};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),s.useEffect(()=>(document.body.style.overflow=d?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[d]),s.useEffect(()=>{const t=n=>{const o=document.querySelector('[aria-label="Toggle Menu"]');d&&w.current&&!w.current.contains(n.target)&&(!o||!o.contains(n.target))&&a(!1)};return d?document.addEventListener("mousedown",t):document.removeEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[d]);const R=[{name:"Track Order",link:"/track-order",icon:te},{name:"Physical Outlets",link:"/outlets",icon:ae},{name:"Contact",link:"/contact",icon:re},{name:"FAQ",link:"support/faq",icon:oe}];return e.jsxs("nav",{className:`fixed top-0 z-50 w-full transition-all duration-300 ease-in-out
            ${p?"dark:bg-gray-900/90 bg-white/90 dark:shadow-xl shadow-lg py-1 backdrop-blur-md":"dark:bg-gray-950 bg-white py-2"}`,children:[e.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between",children:[e.jsx(i,{to:"/",onClick:()=>l("/"),className:"flex-shrink-0",children:e.jsx("img",{src:r?q:B,alt:"FirstSmart Mart",className:`${r?"h-14 lg:h-14 w-auto sm:h-14":"h-14 w-24 sm:h-14"}`})}),e.jsxs("ul",{className:"hidden lg:flex items-center space-x-8 mx-auto",children:[e.jsx("li",{children:e.jsxs(i,{to:"/",onClick:()=>l("/"),className:"dark:text-gray-300 text-gray-700 dark:hover:text-cyan-400 hover:text-blue-600 text-lg font-medium transition-colors relative group",children:["Home",e.jsx("span",{className:"absolute left-0 bottom-0 w-full h-[2px] dark:bg-cyan-400 bg-blue-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]})}),e.jsx("li",{children:e.jsxs(i,{to:"/shop",onClick:()=>l("/shop"),className:"dark:text-gray-300 text-gray-700 dark:hover:text-cyan-400 hover:text-blue-600 text-lg font-medium transition-colors relative group",children:["Shop",e.jsx("span",{className:"absolute left-0 bottom-0 w-full h-[2px] dark:bg-cyan-400 bg-blue-600 scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"})]})}),e.jsx(V,{title:"Support",items:R,handleNavigation:l,isMobile:!1})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",ref:j,children:[e.jsx("input",{type:"text",value:h,onChange:$,placeholder:"Search products...",className:"p-2 pl-10 rounded-full dark:bg-gray-950 bg-white dark:border-gray-900 border-gray-300 dark:text-gray-200 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-600 w-64 md:w-80 lg:w-96 transition-all duration-300 ease-in-out text-sm dark:placeholder-gray-400 placeholder-gray-500"}),e.jsx(D,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 dark:text-gray-500 text-gray-400"}),m&&e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:e.jsx(T,{})}),e.jsxs(v,{children:[c.length>0&&h.length>1&&e.jsx(u.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-2 dark:bg-gray-950 bg-white shadow-lg rounded-lg dark:border-gray-900 border-gray-300 max-h-60 overflow-y-auto z-10",children:e.jsx("ul",{children:c.map(t=>{var n;return e.jsx("li",{className:"p-3 dark:hover:bg-gray-900 hover:bg-gray-100 cursor-pointer dark:border-b dark:border-gray-900 border-b border-gray-200 last:border-b-0",children:e.jsx(i,{to:`/collections/${((n=t.category)==null?void 0:n.link)||"default-category"}/${t.link}`,className:"block dark:text-gray-200 text-gray-800 text-sm",onClick:()=>{var o;x(""),g([]),l(`/collections/${((o=t.category)==null?void 0:o.link)||"default-category"}/${t.link}`)},children:t.name})},t.id)})})}),h.length>1&&!m&&c.length===0&&e.jsx(u.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute top-full left-0 right-0 mt-2 dark:bg-gray-950 bg-white shadow-lg rounded-lg dark:border-gray-900 border-gray-300 p-3 text-center dark:text-gray-500 text-gray-400 text-sm z-10",children:"No products found."})]})]}),e.jsx("button",{onClick:M,className:"p-2 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100 transition-colors",title:r?"Switch to Light Mode":"Switch to Dark Mode",children:r?e.jsx(K,{className:"w-6 h-6 text-yellow-400"}):e.jsx(U,{className:"w-6 h-6 text-gray-700"})}),e.jsxs("button",{onClick:E,className:"relative dark:text-gray-300 text-gray-700 dark:hover:text-lime-400 hover:text-green-600 transition-colors p-2 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100",title:"Shopping Cart",children:[e.jsx(A,{className:"w-6 h-6"}),b>0&&e.jsx(v,{children:e.jsx(u.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:b},b)})]}),Q,W]}),e.jsxs("div",{className:"flex items-center lg:hidden space-x-4",children:[e.jsx("button",{onClick:M,className:"p-2 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100 transition-colors",title:r?"Switch to Light Mode":"Switch to Dark Mode",children:r?e.jsx(K,{className:"w-6 h-6 text-yellow-400"}):e.jsx(U,{className:"w-6 h-6 text-gray-700"})}),e.jsxs("button",{onClick:E,className:"relative dark:text-gray-300 text-gray-700 dark:hover:text-lime-400 hover:text-green-600 transition-colors",title:"Shopping Cart",children:[e.jsx(A,{className:"w-6 h-6"}),b>0&&e.jsx(v,{children:e.jsx(u.span,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:b},b+"_mobile")})]}),e.jsx("button",{onClick:()=>a(!d),"aria-label":"Toggle Menu",className:"dark:text-gray-300 text-gray-700 dark:hover:text-cyan-400 hover:text-blue-600 transition-colors",children:d?e.jsx(z,{className:"w-7 h-7"}):e.jsx(ee,{className:"w-7 h-7"})})]})]}),e.jsx(v,{children:d&&e.jsxs(u.div,{ref:w,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.3,ease:"easeInOut"},className:"fixed top-0 right-0 min-h-screen w-full dark:bg-gray-950 bg-white flex flex-col pt-20 px-6 pb-1 overflow-y-auto shadow-xl lg:hidden z-40",children:[e.jsxs("div",{className:"absolute top-4 left-4 right-4 flex items-center justify-between z-50",children:[e.jsx(i,{to:"/",onClick:()=>l("/"),className:"flex-shrink-0",children:e.jsx("img",{src:r?q:B,alt:"FirstSmart Mart",className:"h-14 w-auto sm:h-14"})}),e.jsx("button",{onClick:()=>a(!1),"aria-label":"Close Menu",className:"dark:text-gray-300 text-gray-700 dark:hover:text-white hover:text-gray-900 transition-colors",children:e.jsx(z,{className:"w-8 h-8"})})]}),e.jsxs("ul",{className:"flex flex-col space-y-6 mt-8 flex-grow",children:[e.jsx("li",{children:e.jsx(i,{to:"/",onClick:()=>l("/"),className:"block dark:text-gray-200 text-gray-800 dark:hover:text-cyan-400 hover:text-blue-600 text-xl font-semibold py-2",children:"Home"})}),e.jsx("li",{children:e.jsx(i,{to:"/shop",onClick:()=>l("/shop"),className:"block dark:text-gray-200 text-gray-800 dark:hover:text-cyan-400 hover:text-blue-600 text-xl font-semibold py-2",children:"Shop"})}),e.jsx(V,{title:"Support",items:R,handleNavigation:l,isMobile:!0}),e.jsxs("li",{className:"relative w-full mt-6",children:[e.jsx("input",{type:"text",value:h,onChange:$,placeholder:"Search products...",className:"w-full p-3 pl-12 dark:border-gray-900 border-gray-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-600 dark:bg-gray-950 bg-white dark:text-gray-200 text-gray-800 dark:placeholder-gray-400 placeholder-gray-500","aria-label":"Mobile Search Input"}),e.jsx(D,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 dark:text-gray-500 text-gray-400"}),m&&e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:e.jsx(T,{})}),e.jsxs(v,{children:[c.length>0&&h.length>1&&e.jsx(u.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"mt-2 dark:bg-gray-950 bg-white rounded-md shadow-lg p-1 max-h-40 overflow-y-auto",children:c.map(t=>{var n;return e.jsx("div",{className:"dark:border-b dark:border-gray-900 border-b border-gray-200 py-2 last:border-b-0",children:e.jsx(i,{to:`/collections/${((n=t.category)==null?void 0:n.link)||"default-category"}/${t.link}`,onClick:()=>{var o;g([]),x(""),l(`/collections/${((o=t.category)==null?void 0:o.link)||"default-category"}/${t.link}`)},children:e.jsx("span",{className:"block dark:text-gray-200 text-gray-800 dark:hover:text-cyan-400 hover:text-blue-600",children:t.name})})},t.id)})}),h.length>1&&!m&&c.length===0&&e.jsx(u.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"text-center dark:text-gray-500 text-gray-400 mt-4",children:"No products found."})]})]})]}),e.jsxs("div",{className:"mt-auto dark:border-t dark:border-gray-900 border-t border-gray-200 pt-2 flex flex-col space-y-3",children:[localStorage.getItem("auth_token")?e.jsxs(e.Fragment,{children:[e.jsxs(i,{to:"/user/orders",onClick:()=>l("/user/orders"),className:"flex items-center dark:text-purple-400 text-purple-700 dark:hover:text-purple-300 hover:text-purple-600 transition-colors py-2 px-3 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100 text-xl font-semibold w-fit",children:[e.jsx(F,{className:"w-6 h-6 mr-2"}),e.jsx("span",{children:"My Orders"})]}),e.jsxs("button",{onClick:O,className:"flex items-center dark:text-red-400 text-red-600 dark:hover:text-red-500 hover:text-red-700 transition-colors py-2 px-3 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100 text-xl font-semibold w-fit",children:[e.jsx(H,{className:"w-6 h-6 mr-2"}),e.jsx("span",{children:"Logout"})]})]}):e.jsxs(i,{to:"/login",onClick:()=>l("/login"),className:"flex items-center dark:text-cyan-400 text-blue-600 dark:hover:text-cyan-300 hover:text-blue-500 transition-colors py-2 px-3 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100 text-xl font-semibold w-fit",children:[e.jsx(_,{className:"w-6 h-6 mr-2"}),e.jsx("span",{children:"Login"})]}),localStorage.getItem("role")==="admin"&&e.jsxs(i,{to:"/admin/dashboard",onClick:()=>l("/admin/dashboard"),className:"flex items-center dark:text-purple-400 text-purple-700 dark:hover:text-purple-300 hover:text-purple-600 transition-colors py-2 px-3 rounded-full dark:hover:bg-gray-950 hover:bg-gray-100 text-xl font-semibold w-fit",children:[e.jsx(P,{className:"w-6 h-6 mr-2"}),e.jsx("span",{children:"Admin"})]}),e.jsx("div",{className:"flex items-center py-8 px-3 w-fit"})]})]})})]})};export{ue as default};
