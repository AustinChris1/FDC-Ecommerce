import{c as _,u as P,r as u,j as e,m as o,U as C,M as z,E as I,G as L,L as F,b as y,B as l}from"./main-CysGwbvy.js";import{L as h,E as R}from"./lock-CkmRQGlO.js";/**
 * @license lucide-react v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=_("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),V=()=>{document.title="Register - First Digit";const b=P(),[x,m]=u.useState(!1),[t,f]=u.useState({name:"",email:"",password:"",password_confirmation:""}),[s,r]=u.useState({}),[n,v]=u.useState(!1),i=d=>{f({...t,[d.target.name]:d.target.value}),r({})},w=()=>{v(!n)},j=d=>{d.preventDefault(),m(!0);const E={name:t.name,email:t.email,password:t.password,password_confirmation:t.password_confirmation};y.get("/sanctum/csrf-cookie").then(()=>{y.post("/api/register",E,{headers:{Accept:"application/json"}}).then(a=>{a.data.status===200?(localStorage.setItem("auth_token",a.data.token),localStorage.setItem("auth_name",a.data.username),localStorage.setItem("auth_email",a.data.email),localStorage.setItem("role",a.data.role),r({}),l.success(a.data.message),b("/email/resend")):(r(a.data.validation_errors||{}),a.data.validation_errors?Object.values(a.data.validation_errors).forEach(p=>{p.forEach(g=>l.error(g))}):l.error("An unexpected error occurred during registration."))}).catch(a=>{a.response&&a.response.status===422?(r(a.response.data.validation_errors||{}),Object.values(a.response.data.validation_errors).forEach(p=>{p.forEach(g=>l.error(g))})):a.response&&a.response.data&&a.response.data.message?(l.error(a.response.data.message),r({general:a.response.data.message})):(l.error("Something went wrong. Please try again later."),r({general:"Network error or unexpected issue."}),console.error("Error details:",a.response||a))}).finally(()=>{m(!1)})}).catch(a=>{m(!1),l.error("Failed to prepare registration. Please try again later."),r({general:"CSRF token error."}),console.error("CSRF Error:",a)})},N={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},k={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut",delay:.2}}},c={hidden:{x:-20,opacity:0},visible:{x:0,opacity:1,transition:{duration:.4,ease:"easeOut"}}},S={hover:{scale:1.02,boxShadow:"0px 8px 15px rgba(0, 0, 0, 0.3)"},tap:{scale:.98}};return e.jsxs(o.div,{className:"flex items-center justify-center min-h-screen p-5 relative overflow-hidden",style:{backgroundImage:"linear-gradient(to bottom right, #0a0a0a, #1a1a1a, #0a0a0a)"},variants:N,initial:"hidden",animate:"visible",children:[e.jsx("div",{className:"absolute top-[10%] right-[5%] w-72 h-72 bg-cyan-500/10 rounded-full blur-3xl opacity-30"}),e.jsx("div",{className:"absolute bottom-[15%] left-[10%] w-80 h-80 bg-purple-500/10 rounded-full blur-3xl opacity-30"}),e.jsxs(o.div,{className:"bg-gray-900 mt-20 p-8 md:p-10 rounded-xl shadow-2xl border border-gray-700 w-full max-w-md relative z-10",variants:k,initial:"hidden",animate:"visible",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-center text-lime-400 mb-6 drop-shadow-md",children:"Join Us Today!"}),e.jsx("p",{className:"text-center text-gray-400 mb-8 text-lg",children:"Create your account to unlock exclusive features."}),e.jsxs("form",{onSubmit:j,className:"flex flex-col space-y-6",children:[e.jsxs(o.div,{className:"relative",variants:c,children:[e.jsx(C,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:20}),e.jsx("input",{type:"text",name:"name",placeholder:"Full Name","aria-label":"Full Name",onChange:i,value:t.name,className:"pl-12 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg w-full text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600 transition-colors",required:!0}),s.name&&e.jsx("small",{className:"text-red-400 mt-1 block",children:s.name[0]})]}),e.jsxs(o.div,{className:"relative",variants:c,children:[e.jsx(z,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:20}),e.jsx("input",{type:"email",name:"email",placeholder:"Your Email","aria-label":"Email",onChange:i,value:t.email,className:"pl-12 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg w-full text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600 transition-colors",required:!0}),s.email&&e.jsx("small",{className:"text-red-400 mt-1 block",children:s.email[0]})]}),e.jsxs(o.div,{className:"relative",variants:c,children:[e.jsx(h,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:20}),e.jsx("input",{type:n?"text":"password",name:"password",placeholder:"Password","aria-label":"Password",onChange:i,value:t.password,className:"pl-12 pr-12 py-3 bg-gray-800 border border-gray-700 rounded-lg w-full text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600 transition-colors",required:!0}),e.jsx("button",{type:"button",onClick:w,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-400 transition-colors focus:outline-none","aria-label":n?"Hide password":"Show password",children:n?e.jsx(R,{size:20}):e.jsx(I,{size:20})}),s.password&&e.jsx("small",{className:"text-red-400 mt-1 block",children:s.password[0]})]}),e.jsxs(o.div,{className:"relative",variants:c,children:[e.jsx(h,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",size:20}),e.jsx("input",{type:"password",name:"password_confirmation",placeholder:"Confirm Password","aria-label":"Confirm Password",onChange:i,value:t.password_confirmation,className:"pl-12 pr-4 py-3 bg-gray-800 border border-gray-700 rounded-lg w-full text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-600 transition-colors",required:!0}),s.password_confirmation&&e.jsx("small",{className:"text-red-400 mt-1 block",children:s.password_confirmation[0]})]}),s.general&&e.jsx("small",{className:"text-red-400 text-center mt-2 block",children:s.general}),e.jsx(o.button,{type:"submit",className:"flex items-center justify-center bg-blue-600 text-white font-bold py-3 rounded-lg hover:bg-blue-700 transition-colors w-full focus:outline-none focus:ring-2 focus:ring-blue-500 active:scale-98 shadow-lg",disabled:x,variants:S,whileHover:"hover",whileTap:"tap",children:x?e.jsx(L,{}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"mr-2",size:20})," Register"]})})]}),e.jsxs("p",{className:"text-center mt-6 text-gray-400",children:["Already have an account?"," ",e.jsx(F,{to:"/login",className:"text-blue-400 hover:underline font-semibold",children:"Login here"})]})]})]})};export{V as default};
